"use strict";(self.webpackChunkacademydev=self.webpackChunkacademydev||[]).push([[820,528],{3528:(e,s,t)=>{t.r(s),t.d(s,{default:()=>r});var n=t(9500),a=t(6584),i=t(2496);const r=function(e){let{message:s,position:t="absolute",fill:r=!1,onTop:o=!1}=e;return(0,i.jsx)("div",{className:"error-card ".concat(r&&"fill"," ").concat(o&&"on-top"),children:(0,i.jsxs)("div",{className:"error-card__wrapper",children:[(0,i.jsx)("div",{className:"icon",children:(0,i.jsx)(n.u,{icon:a.gxQ})}),s]})})}},6820:(e,s,t)=>{t.r(s),t.d(s,{default:()=>T});var n=t(1560),a=t(9060),i=t(9500),r=t(6584),o=t(2496);const c=e=>{let{title:s,subtitle:t}=e;return(0,o.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,o.jsx)("h2",{style:{color:"var(--primary-text-color)",fontSize:"32px",fontWeight:"bold",marginBottom:"5px"},children:s}),(0,o.jsx)("h5",{style:{color:"var(--light-green-text-color)",fontWeight:"400",fontSize:"16px"},children:t})]})};var l=t(12);const d=function(e){let{to:s,value:t,subtitle:n,icon:a}=e;return(0,o.jsx)(l.cH,{style:{width:"100%",margin:"0px 30px",height:"100%",display:"flex",justifyContent:"center",flexDirection:"column"},to:"/".concat(s),children:(0,o.jsxs)("div",{className:"stat-box",children:[(0,o.jsxs)("div",{className:"stat-box__header",children:[a,(0,o.jsx)("h4",{style:{color:"var(--primary-text-color)"},children:t})]}),(0,o.jsx)("div",{className:"stat-box__details",children:(0,o.jsx)("h5",{children:n})})]})})};var u=t(1384);const h=function(){const[e,s]=(0,a.useState)(0),[t,n]=(0,a.useState)(0),[l,h]=(0,a.useState)(0),[x,m]=(0,a.useState)(0),p=(0,u.A)();return(0,a.useEffect)((()=>{(async()=>{try{const e=await fetch("http://localhost:5050/api/dashboard/overview",{method:"GET",headers:{"Content-Type":"application/json","x-access-token":p}});if(e.ok){const{totalUsers:t,premiumUsers:a,totalCourses:i,totalIncome:r}=await e.json();s(t),n(r),h(a),m(i)}}catch(e){console.error("Error fetching data: ",e)}})()})),(0,o.jsxs)("div",{className:"dashboard-overview",children:[(0,o.jsx)(c,{title:"Overview",subtitle:"Welcome to my dashboard"}),(0,o.jsxs)("div",{className:"dashboard-overview__content",children:[(0,o.jsx)("div",{className:"content__card",style:{gridColumn:"span 3"},children:(0,o.jsx)(d,{to:"users",value:e.toString(),subtitle:"Total Users",icon:(0,o.jsx)(i.u,{className:"icon",icon:r.OOk})})}),(0,o.jsx)("div",{className:"content__card",style:{gridColumn:"span 3"},children:(0,o.jsx)(d,{to:"",value:"".concat(t,"$"),subtitle:"Monthly income",icon:(0,o.jsx)(i.u,{className:"icon",icon:r.qEJ})})}),(0,o.jsx)("div",{className:"content__card",style:{gridColumn:"span 3"},children:(0,o.jsx)(d,{to:"",value:l.toString(),subtitle:"Total Subscription",icon:(0,o.jsx)(i.u,{className:"icon",icon:r.y0l})})}),(0,o.jsx)("div",{className:"content__card",style:{gridColumn:"span 3"},children:(0,o.jsx)(d,{to:"",value:x.toString(),subtitle:"Total Courses",icon:(0,o.jsx)(i.u,{className:"icon",icon:r.UTe})})}),(0,o.jsx)("div",{className:"content__card",style:{gridColumn:"span 8",gridRow:"span 2"},children:(0,o.jsx)("h3",{children:"Card 5"})}),(0,o.jsx)("div",{className:"content__card",style:{gridColumn:"span 4",gridRow:"span 2"},children:(0,o.jsx)("h3",{children:"Card 6"})}),(0,o.jsx)("div",{className:"content__card",style:{gridColumn:"span 3"},children:(0,o.jsx)("h3",{children:"Card 7"})}),(0,o.jsx)("div",{className:"content__card",style:{gridColumn:"span 3"},children:(0,o.jsx)("h3",{children:"Card 8"})})]})]})};var x=t(1772),m=t(3596),p=t(1324);const j=function(e){let{text:s}=e;const t=s.split(" "),n=t.length<2?"".concat(t[0][0]):"".concat(t[0][0]+t[1][0]),a="#"+Math.floor(16777215*Math.random()).toString(16);return(0,o.jsx)("div",{className:"generated-image__wrapper",style:{backgroundColor:a||"#00ff55"},children:n})},v=(0,a.memo)((e=>{let{user:s}=e;return(0,o.jsx)("div",{style:{width:"35px",height:"35px",cursor:"pointer",borderRadius:"50%",overflow:"hidden",color:"white"},children:s&&s.photoURL?(0,o.jsx)("img",{src:s.photoURL,style:{display:"block",width:"100%",height:"100%",objectFit:"contain"},alt:"profile-user"}):(0,o.jsx)(j,{text:s&&s.displayName?s.displayName:"Uknown User"})})})),f=e=>{let{title:s,to:t,icon:n,selected:a,setSelected:i}=e;return(0,o.jsx)(x.IP,{component:(0,o.jsx)(l.cH,{to:"/".concat(t)}),active:a===t,style:{color:"var(--primary-text-color)",borderRadius:"10px",fontSize:"14px",fontWeight:"500"},onClick:()=>i(t),icon:n,children:(0,o.jsx)("p",{children:s})})},y=()=>{const{theme:e}=(0,m.q)(),[s,t]=(0,a.useState)(!0),n=window.location.pathname.split("/").pop(),[c,l]=(0,a.useState)("dashboard"===n?"":null!==n&&void 0!==n?n:""),{user:d}=(0,p.S)(),u=[{subtitle:"",items:[{title:"Dashboard",to:"",icon:(0,o.jsx)(i.u,{icon:r.e2O}),selected:c,setSelected:l}]},{subtitle:"Data",items:[{title:"Manage Users",to:"users",icon:(0,o.jsx)(i.u,{icon:r.eK7}),selected:c,setSelected:l},{title:"Invoices",to:"invoices",icon:(0,o.jsx)(i.u,{icon:r.CSy}),selected:c,setSelected:l},{title:"Courses",to:"courses",icon:(0,o.jsx)(i.u,{icon:r.UTe}),selected:c,setSelected:l}]},{subtitle:"Pages",items:[{title:"Add User",to:"addUser",icon:(0,o.jsx)(i.u,{icon:r.Ybe}),selected:c,setSelected:l},{title:"Add Instructor",to:"addInstructor",icon:(0,o.jsx)(i.u,{icon:r.OYs}),selected:c,setSelected:l}]}];return(0,o.jsx)("div",{className:"sidebar",children:(0,o.jsx)(x.M3,{collapsed:!s,style:{backgroundColor:"var(--primary-background-color) !important"},children:(0,o.jsxs)(x.iS,{children:[(0,o.jsx)(x.IP,{className:"sidebar__menu-header",icon:s?void 0:(0,o.jsx)("button",{className:"sidebar__menu-button",onClick:()=>t(!s),children:(0,o.jsx)(i.u,{icon:r.mIU})}),style:{margin:"10px 0 20px 0"},children:s&&(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginLeft:"15px"},children:[(0,o.jsx)("h3",{style:{fontSize:"24px",fontWeight:"400"},children:"BINEAST"}),(0,o.jsx)("button",{className:"sidebar__menu-button",onClick:()=>t(!s),children:(0,o.jsx)(i.u,{icon:r.mIU})})]})}),(0,o.jsxs)("div",{style:{display:"".concat(s?"flex":"none"),textAlign:"center",padding:"10% 0 10% 10%",borderTop:"1px solid var(--secondary-text-color)",borderBottom:"1px solid var(--secondary-text-color)",alignItems:"center"},children:[(0,o.jsx)(v,{user:d}),(0,o.jsxs)("div",{style:{textAlign:"center",flex:"1"},children:[(0,o.jsx)("h5",{style:{color:"var(--primary-text-color)",fontWeight:"700",fontSize:"16px",marginTop:"4px"},children:d?d.displayName:"Unknown User"}),(0,o.jsx)("h6",{style:{color:"var(--light-green-text-color)",fontWeight:"500",fontSize:"14px",textTransform:"capitalize"},children:d?d.role:"user"})]})]}),(0,o.jsx)("div",{className:"sidebar-items ".concat(e),style:{padding:s?"10%":void 0},children:u.map(((e,s)=>(0,o.jsxs)("span",{children:[e.subtitle&&(0,o.jsx)("h6",{className:"sidebar-items__subtitle",children:e.subtitle}),e.items.map(((e,s)=>(0,o.jsx)(f,{title:e.title,to:e.to,icon:e.icon,selected:c,setSelected:l},s)))]},s)))})]})})})};var g=t(9712);const b=()=>{const{theme:e,toggleTheme:s}=(0,m.q)();return(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"15px"},className:"topbar",children:[(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",borderRadius:"6px",backgroundColor:"var(--secondary-background-color)"},children:[(0,o.jsx)("div",{style:{marginLeft:"16px",flex:1},children:(0,o.jsx)("input",{className:"topbar__search-input",type:"text",placeholder:"Search"})}),(0,o.jsx)("button",{style:{padding:1},children:(0,o.jsx)(i.u,{icon:r.w1r})})]}),(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,o.jsx)("button",{onClick:()=>s(),children:"light"===e?(0,o.jsx)(i.u,{icon:g.OLY}):(0,o.jsx)(i.u,{icon:g.c1X})}),(0,o.jsx)("button",{children:(0,o.jsx)(i.u,{icon:g.Yrq})}),(0,o.jsx)("button",{children:(0,o.jsx)(i.u,{icon:r.EZ})}),(0,o.jsx)("button",{children:(0,o.jsx)(i.u,{icon:g.OOk})})]})]})};var N=t(4810);const _=e=>{let{userId:s,role:t}=e;const[n,c]=(0,a.useState)(t),[l,d]=(0,a.useState)(t),[h,x]=(0,a.useState)(!1),m=(0,u.A)(),p={ADMIN:(0,o.jsx)(i.u,{style:{fontSize:"11px"},icon:r._2h}),INSTRUCTOR:(0,o.jsx)(i.u,{style:{fontSize:"11px"},icon:r.OYs}),USER:(0,o.jsx)(i.u,{style:{fontSize:"11px"},icon:r.OOk})},j=()=>{(async()=>{try{(await fetch("http://localhost:5050/api/users/"+s,{method:"PATCH",headers:{"content-type":"application/json","x-access-token":m},body:JSON.stringify({role:l})})).ok?(c(l),x(!1)):d(n)}catch(e){}})()},v=()=>{d(n),x(!1)};return h?(0,o.jsxs)("div",{className:"users-table__confirm__role",children:[(0,o.jsx)("span",{className:"is-easy hover",onClick:j,children:"Update"}),(0,o.jsx)("span",{className:"is-hard hover",onClick:v,children:"Cancel"})]}):(0,o.jsxs)("div",{style:{width:"60%",margin:"0 auto",display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,o.jsx)("span",{className:"icon",children:p[t]}),(0,o.jsx)("select",{className:"users-table__role",value:l,onChange:e=>(e=>{d(e),x(!0)})(e.target.value),children:Object.keys(p).map((e=>(0,o.jsx)("option",{value:e,children:e},e)))})]})},w=()=>{const[e,s]=(0,a.useState)([]),t=(0,u.A)();(0,a.useEffect)((()=>{(async()=>{try{const e=await fetch("http://localhost:5050/api/users",{method:"GET",headers:{"content-type":"application/json","x-access-token":t}}),n=await e.json();s(n)}catch(e){}})()}),[t]);const n=[{field:"id",headerName:"ID"},{field:"email",headerName:"Email",flex:1},{field:"role",headerName:"Role",flex:1,headerAlign:"center",align:"center",renderCell:e=>{let{row:{role:s,id:t}}=e;return(0,o.jsx)(_,{userId:t,role:s})}},{field:"isPremium",headerName:"Premium",flex:1,renderCell:e=>{let{row:{isPremium:s}}=e;return(0,o.jsx)("div",{children:(0,o.jsx)(i.u,{style:{color:s?"#3fb24b":"grey"},icon:r.MN5})})}}];return(0,o.jsxs)("div",{className:"dashboard-users",children:[(0,o.jsx)(c,{title:"Users",subtitle:"In this page you can manage users"}),(0,o.jsx)("div",{className:"users-table",children:(0,o.jsx)(N.o,{sx:{"&.MuiDataGrid-root .MuiDataGrid-cell:focus-within":{outline:"none !important"},"& .MuiDataGrid-filler":{height:"1px !important"},"& .MuiDataGrid-overlayWrapper":{height:"55px !important"}},rows:e,columns:n,slots:{noRowsOverlay:()=>(0,o.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",color:"var(--primary-text-color)"},children:"No users found"})}})})]})};const C=function(){return(0,o.jsx)("div",{className:"dashboard-addUser",children:(0,o.jsx)(c,{title:"Add User",subtitle:"Add a new user to the system"})})};const S=function(){return(0,o.jsx)("div",{className:"dashboard-addInstructor",children:(0,o.jsx)(c,{title:"Add Instructor",subtitle:"Add a new instructor to the system"})})};var k=t(5332);const I=function(e){let{setIsConfirm:s,setIsDelete:t}=e;const n=(0,a.useRef)(null),{theme:i}=(0,m.q)();return(0,a.useEffect)((()=>{function e(e){n.current&&!n.current.contains(e.target)&&s(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[n,s]),(0,o.jsx)("div",{className:"confirm-card ".concat(i),children:(0,o.jsxs)("div",{ref:n,className:"confirm-card__wrapper",children:[(0,o.jsx)("h4",{children:"Are you sure?"}),(0,o.jsxs)("div",{className:"confirm-card__wrapper__control",children:[(0,o.jsx)("span",{className:"is-easy hover",onClick:()=>{t(!0),s(!1)},children:"Confirm"}),(0,o.jsx)("span",{className:"is-hard hover",onClick:()=>s(!1),children:"Cancel"})]})]})})};const E=function(e){let{course:s,setRefresh:t}=e;const[n,c]=(0,a.useState)(!1),[l,d]=(0,a.useState)(!1),{id:h,imgUrl:x,title:m,description:p,durationInMinutes:j,level:v,isPremium:f}=s,y=(0,u.A)();return(0,a.useEffect)((()=>{l&&(async()=>{try{(await fetch("http://localhost:5050"+"/api/courses/".concat(h),{method:"DELETE",headers:{"content-type":"application/json","x-access-token":y}})).ok&&(t((e=>!e)),d(!1))}catch(e){console.log(e)}})()}),[l,y,h,t]),(0,o.jsxs)("div",{className:"course-display",onClick:()=>{},children:[n&&(0,o.jsx)(I,{setIsConfirm:c,setIsDelete:d,setRefresh:t}),(0,o.jsx)("div",{className:"course-display__img",children:(0,o.jsx)("img",{src:x,alt:m})}),(0,o.jsxs)("div",{className:"course-display__content",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{children:m}),(0,o.jsx)("p",{children:p})]}),(0,o.jsxs)("div",{className:"course-display__content__details",children:[(0,o.jsxs)("div",{className:"course-display__content__details__duration",children:["Duration: ",j," minutes"]}),(0,o.jsxs)("div",{className:"course-display__content__details__level",children:["Level: ",v]}),(0,o.jsx)("div",{className:"course-display__content__details__is-premium",children:f?"Premium":"Free"})]})]}),(0,o.jsxs)("div",{className:"course-display__control",children:[(0,o.jsx)("span",{className:"edit",children:(0,o.jsx)(i.u,{icon:r.cpv})}),(0,o.jsx)("span",{className:"delete",onClick:function(){c(!0)},children:(0,o.jsx)(i.u,{icon:r._8k})})]})]})};var U=t(3528);const D=function(){const[e,s]=(0,a.useState)([]),[t,n]=(0,a.useState)(!1),[i,r]=(0,a.useState)(""),[l,d]=(0,a.useState)(!1),h=(0,u.A)();return(0,a.useEffect)((()=>{(async()=>{try{r(""),n(!0);const e=await fetch("http://localhost:5050/api/courses",{method:"GET",headers:{"content-type":"application/json","x-access-token":h}}),t=await e.json();if(200!==e.status)throw new Error(t.message);s(t),n(!1),0===t.length&&r("No courses available")}catch(e){n(!1),e instanceof Error?r(e.message):r("Error fetching data from server")}})()}),[l,h]),(0,o.jsxs)("div",{className:"dashboard-courses",children:[(0,o.jsx)(c,{title:"Courses",subtitle:"In this page you can manage courses"}),(0,o.jsx)("div",{className:"courses",children:t||i?(0,o.jsx)("div",{className:"dashboard-courses__status",children:t?(0,o.jsx)(k.default,{}):(0,o.jsx)(U.default,{message:i})}):e.map((e=>(0,o.jsx)(E,{setRefresh:d,course:e},e.id)))})]})};const A=function(){const[e,s]=(0,a.useState)([]),t=(0,u.A)();(0,a.useEffect)((()=>{(async()=>{try{const e=await fetch("http://localhost:5050/api/dashboard/invoices",{method:"GET",headers:{"content-type":"application/json","x-access-token":t}}),n=await e.json();console.log(n),s(n)}catch(e){}})()}),[t]);const n=[{field:"id",headerName:"Invoice ID",flex:1},{field:"userId",headerName:"User Id",flex:1},{field:"endDate",headerName:"End Date",flex:1,headerAlign:"center",align:"center",renderCell:e=>{let{row:{endDate:s}}=e;return new Date(s).toLocaleDateString()}},{field:"status",headerName:"Status",flex:1}];return(0,o.jsxs)("div",{className:"dashboard-invoices",children:[(0,o.jsx)(c,{title:"Invoices",subtitle:"In this page you can view all invoices"}),(0,o.jsx)("div",{className:"invoices-table",children:(0,o.jsx)(N.o,{sx:{"&.MuiDataGrid-root .MuiDataGrid-cell:focus-within":{outline:"none !important"},"& .MuiDataGrid-filler":{height:"1px !important"},"& .MuiDataGrid-overlayWrapper":{height:"55px !important"}},rows:e,columns:n,slots:{noRowsOverlay:()=>(0,o.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",color:"var(--primary-text-color)"},children:"No Invoices at the moment"})}})})]})};const T=function(){const{user:e}=(0,p.S)();return(0,o.jsxs)("div",{className:"dashboard",children:[(0,o.jsx)(y,{}),(0,o.jsxs)("main",{className:"content",children:[(0,o.jsx)(b,{}),(0,o.jsx)("div",{className:"dashboard-section",children:(0,o.jsxs)(n.c5,{children:[(0,o.jsx)(n.kX,{path:"/",element:(0,o.jsx)(h,{})}),(0,o.jsx)(n.kX,{path:"/users",element:(0,o.jsx)(w,{})}),(0,o.jsx)(n.kX,{path:"/addUser",element:(0,o.jsx)(C,{})}),(0,o.jsx)(n.kX,{path:"/addInstructor",element:(0,o.jsx)(S,{})}),(0,o.jsx)(n.kX,{path:"/courses",element:(0,o.jsx)(D,{})}),(0,o.jsx)(n.kX,{path:"/invoices",element:(0,o.jsx)(A,{})})]})})]})]})}}}]);
//# sourceMappingURL=820.6759bbf4.chunk.js.map