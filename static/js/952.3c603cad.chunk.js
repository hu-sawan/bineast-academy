"use strict";(self.webpackChunkacademydev=self.webpackChunkacademydev||[]).push([[952],{6992:(e,t,s)=>{s.d(t,{c:()=>r});var a=s(2496);const r=e=>{let{title:t,subtitle:s}=e;return(0,a.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,a.jsx)("h2",{style:{color:"var(--primary-text-color)",fontSize:"32px",fontWeight:"bold",marginBottom:"5px"},children:t}),(0,a.jsx)("h5",{style:{color:"var(--light-green-text-color)",fontWeight:"400",fontSize:"16px"},children:s})]})}},1952:(e,t,s)=>{s.r(t),s.d(t,{default:()=>h});var a=s(9060),r=s(6992),l=s(4810),i=s(9500),n=s(6584),o=s(1384),c=s(2496);const d=e=>{let{userId:t,role:s}=e;const[r,l]=(0,a.useState)(s),[d,h]=(0,a.useState)(s),[u,x]=(0,a.useState)(!1),p=(0,o.A)();s=s.toUpperCase();const m={ADMIN:(0,c.jsx)(i.u,{style:{fontSize:"11px"},icon:n._2h}),INSTRUCTOR:(0,c.jsx)(i.u,{style:{fontSize:"11px"},icon:n.OYs}),USER:(0,c.jsx)(i.u,{style:{fontSize:"11px"},icon:n.OOk})},f=()=>{(async()=>{try{(await fetch("http://localhost:5050/api/users/"+t,{method:"PATCH",headers:{"content-type":"application/json","x-access-token":p},body:JSON.stringify({role:d})})).ok?(l(d),x(!1)):h(r)}catch(e){}})()},y=()=>{h(r),x(!1)};return u?(0,c.jsxs)("div",{className:"users-table__confirm__role",children:[(0,c.jsx)("span",{className:"is-easy hover",onClick:f,children:"Update"}),(0,c.jsx)("span",{className:"is-hard hover",onClick:y,children:"Cancel"})]}):(0,c.jsxs)("div",{style:{width:"60%",margin:"0 auto",display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,c.jsx)("span",{className:"icon",children:m[d]}),(0,c.jsx)("select",{className:"users-table__role",value:d,onChange:e=>(e=>{h(e),x(!0)})(e.target.value),children:Object.keys(m).map((e=>(0,c.jsx)("option",{value:e,children:e},e)))})]})},h=()=>{const[e,t]=(0,a.useState)([]),s=(0,o.A)();(0,a.useEffect)((()=>{(async()=>{try{const e=await fetch("http://localhost:5050/api/users",{method:"GET",headers:{"content-type":"application/json","x-access-token":s}}),a=await e.json();t(a)}catch(e){}})()}),[s]);const h=[{field:"id",headerName:"ID"},{field:"email",headerName:"Email",flex:1},{field:"role",headerName:"Role",flex:1,headerAlign:"center",align:"center",renderCell:e=>{let{row:{role:t,id:s}}=e;return(0,c.jsx)(d,{userId:s,role:t})}},{field:"isPremium",headerName:"Premium",flex:1,renderCell:e=>{let{row:{isPremium:t}}=e;return(0,c.jsx)("div",{children:(0,c.jsx)(i.u,{style:{color:t?"#3fb24b":"grey"},icon:n.MN5})})}}];return(0,c.jsxs)("div",{className:"dashboard-users",children:[(0,c.jsx)(r.c,{title:"Users",subtitle:"In this page you can manage users"}),(0,c.jsx)("div",{className:"users-table",children:(0,c.jsx)(l.o,{sx:{"&.MuiDataGrid-root .MuiDataGrid-cell:focus-within":{outline:"none !important"},"& .MuiDataGrid-filler":{height:"1px !important"},"& .MuiDataGrid-overlayWrapper":{height:"55px !important"}},rows:e,columns:h,slots:{noRowsOverlay:()=>(0,c.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",color:"var(--primary-text-color)"},children:"No users found"})}})})]})}}}]);
//# sourceMappingURL=952.3c603cad.chunk.js.map