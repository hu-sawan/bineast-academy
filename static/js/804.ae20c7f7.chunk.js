"use strict";(self.webpackChunkacademydev=self.webpackChunkacademydev||[]).push([[804],{5804:(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});s(9088);var r=s(9500),i=s(6584),a=s(3596),n=s(2622),l=s(4568),o=s(1384),c=s(2496);const d=l.kt().shape({title:l.Qb().max(65,"Title length must not exceed 65 characters").required("Course Title cannot be empty"),description:l.Qb().required("Required")}),u=function(e){let{course:t,setIsEditing:s,setRefresh:l}=e;const{theme:u}=(0,a.q)(),p=(0,o.A)();return(0,c.jsx)("div",{className:"edit-course ".concat(u),children:(0,c.jsxs)("div",{className:"edit-course__wrapper",children:[(0,c.jsx)("span",{"data-tooltip":"Cancel",className:"tooltip bottom cancel",onClick:()=>s(!1),children:(0,c.jsx)(r.u,{style:{display:"block"},icon:i.gxQ})}),(0,c.jsx)(n.QJ,{initialValues:t,onSubmit:e=>new Promise(((r,i)=>{fetch("http://localhost:5050/api/courses/"+t.id,{method:"PATCH",headers:{"Content-Type":"application/json","x-access-token":p},body:JSON.stringify(e)}).then((e=>{e.ok?(console.log("Course updated"),r(),s(!1),l((e=>!e))):i(new Error("Failed to create course"))})).catch((e=>{i(e)}))})),validationSchema:d,children:e=>{let{isSubmitting:s,values:r,errors:i,isValid:a,handleBlur:l,handleChange:o,handleSubmit:d}=e;return(0,c.jsxs)(n.QF,{className:"dashboard-form",onSubmit:d,children:[(0,c.jsxs)("div",{"data-error":i.title?i.title:"",className:"input-wrapper ".concat(i.title?"error":""),children:[(0,c.jsx)("label",{htmlFor:"title",children:"Course Title:"}),(0,c.jsx)(n.IN,{onChange:o,onBlur:l,className:i.title?"error":"",name:"title",type:"text",placeholder:"Course Title"})]}),(0,c.jsxs)("div",{className:"input-wrapper ".concat(i.description?"error":""),"data-error":i.description?i.description:"",children:[(0,c.jsx)("label",{htmlFor:"description",children:"Course Description:"}),(0,c.jsx)(n.IN,{onChange:o,onBlur:l,className:i.description?"error":"",name:"description",type:"text",placeholder:"Course Description"})]}),(0,c.jsxs)("div",{className:"input-wrapper",children:[(0,c.jsx)("label",{htmlFor:"durationInMinutes",children:"Duration In Minutes:"}),(0,c.jsx)(n.IN,{onChange:o,onBlur:l,name:"durationInMinutes",type:"text",disabled:!0})]}),(0,c.jsx)("div",{className:"edit-course__wrapper__save",children:(0,c.jsx)("button",{type:"submit",disabled:!a||s||JSON.stringify(t)===JSON.stringify(r),children:"Update"})})]})}})]})})}}}]);
//# sourceMappingURL=804.ae20c7f7.chunk.js.map