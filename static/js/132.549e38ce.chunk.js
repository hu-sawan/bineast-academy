"use strict";(self.webpackChunkacademydev=self.webpackChunkacademydev||[]).push([[132],{132:(e,t,s)=>{s.r(t),s.d(t,{default:()=>_});var a=s(324);const n=s.p+"static/media/DarkThemeLogoLandscape-nobg.099369ad09b4dd944288.png",c=s.p+"static/media/LightThemeLogoLandscape-nobg.22d1f491836e297a73df.png";var o=s(463),r=s(60),i=s(500),l=s(584),u=s(12),d=s(844),h=s(596),m=s(384),p=s(496);const x=function(e){let{className:t}=e;const{setCourseId:s}=(0,d.a)(),a=(0,m.A)(),[n,c]=(0,r.useState)(""),[o,x]=(0,r.useState)([]),[g,j]=(0,r.useState)(!1),[v,f]=(0,r.useState)(!1),{isSmallScreen:C}=(0,h.q)(),_=(0,r.useRef)(null);return(0,r.useEffect)((()=>{n?j(!0):(j(!1),x([]));const e=setTimeout((()=>{n&&(async()=>{try{j(!0);const e=await fetch("http://localhost:5050"+"/api/search/courses/".concat(n),{method:"GET",headers:{"Content-Type":"application/json","x-access-token":a}});if(200!==e.status)return void j(!1);const t=await e.json();x(t)}catch(e){}j(!1)})()}),500);return()=>{clearTimeout(e)}}),[a,n]),(0,r.useEffect)((()=>{const e=e=>{_.current&&!_.current.contains(e.target)&&(x([]),c(""))};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[]),(0,p.jsxs)("div",{className:"search ".concat(t," ").concat(C&&(v?"show":"hide")),ref:_,children:[(0,p.jsx)("input",{onChange:e=>{c(e.target.value),0===n.length&&(x([]),j(!1))},type:"text",placeholder:"Find Course...",name:"navInput",autoComplete:"off",value:n}),(0,p.jsx)("div",{className:"search__icon",onClick:()=>{f(!v)},children:(0,p.jsx)(i.u,{icon:l.w1r})}),(0,p.jsx)("ul",{className:"suggestion-list",children:g?(0,p.jsx)("li",{className:"no-hover",children:"Searching..."}):o.length>0?o.map((e=>(0,p.jsx)(u.cH,{to:"/course/".concat(e.id),onClick:()=>s(e.id),children:(0,p.jsx)("li",{children:e.title})},e.id))):n.length>0&&(0,p.jsx)("li",{className:"no-hover",children:"No results found"})})]})};var g=s(436),j=s(100),v=s(332);const f={google:new g.KU("google.com"),facebook:new g.KU("facebook.com"),github:new g.KU("github.com")};const C=function(e){let{close:t}=e;const[s,n]=(0,r.useState)(5),{authContextLoading:c,authContextError:i,authContextSuccess:l,authContextIsDone:u,updateContext:d}=(0,a.S)(),[h,m]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{const e=setTimeout((()=>d({authContextError:""})),15e3);return()=>clearTimeout(e)}),[i,d]),(0,r.useEffect)((()=>{const e=setTimeout((()=>d({authContextSuccess:""})),15e3);return()=>clearTimeout(e)}),[l,d]),(0,r.useEffect)((()=>{let e;return m(!0),h&&u&&(e=setInterval((()=>{n((e=>e-1))}),1e3)),()=>{clearInterval(e)}}),[u,h]),(0,r.useEffect)((()=>{0===s&&(d({authContextIsDone:!1}),t())}),[s,t,d]),(0,r.useEffect)((()=>()=>{d({authContextSuccess:"",authContextError:"",authContextLoading:!1,authContextIsDone:!1})}),[]),(0,p.jsx)("div",{className:"popup",children:(0,p.jsxs)("div",{className:"popup__wrapper",children:[(0,p.jsx)("h1",{children:"Login"}),i&&(0,p.jsx)("p",{className:"error",children:i}),l&&(0,p.jsx)("p",{className:"success",children:l+(u?s:null)}),(0,p.jsx)("div",{className:"popup__wrapper__providers",children:(0,p.jsxs)("button",{onClick:()=>(async(e,t)=>{d({authContextLoading:!0});const s=f[t];if(!s)throw new Error("Unsupported provider ".concat(t));(0,g.gZ)(e,s).catch((e=>{"auth/popup-closed-by-user"===e.code?d({authContextError:"Popup closed by user. Please try again."}):"auth/user-cancelled"===e.code?d({authContextError:"Operation Canceled. Please try again."}):d({authContextError:"Uknown error. Please try again."}),d({authContextLoading:!1})}))})(o.c,"google"),disabled:c||u,children:[(0,p.jsx)("img",{src:j,alt:"google"})," ",(0,p.jsx)("div",{children:c?(0,p.jsx)(v.c,{position:"relative",size:"small"}):"Google"})]})}),(0,p.jsx)("button",{onClick:()=>t(),className:"popup__close",disabled:c,children:"Cancel"})]})})};const _=function(){const[e,t]=(0,r.useState)(!1),[s,u]=(0,r.useState)(!1),{user:d}=(0,a.S)(),{theme:g,isSmallScreen:j,toggleTheme:v}=(0,h.q)(),f=(0,m.A)();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("nav",{className:"aca-nav",children:[j&&(0,p.jsx)(x,{className:"mobile"}),(0,p.jsxs)("div",{className:"container",children:[(0,p.jsx)("div",{className:"aca-nav__logo",children:(0,p.jsx)("a",{href:"/bineast-academy",children:(0,p.jsx)("img",{src:"dark"===g?n:c,alt:"bineast"})})}),(0,p.jsx)(x,{}),(0,p.jsxs)("div",{className:"aca-nav__control",children:[d&&!d.isPremium?(0,p.jsx)("div",{className:"aca-nav__control__subscription tooltip bottom",onClick:async()=>{try{const e=await fetch("".concat("http://localhost:5050","/api/subscribe"),{method:"POST",headers:{"Content-Type":"application/json","x-access-token":f},body:JSON.stringify({userId:null===d||void 0===d?void 0:d.uid})}),t=await e.json();if(200!==e.status)throw Error(t.message);window.location.href=t.url}catch(e){console.log(e)}},"data-tooltip":"Become premium member",children:(0,p.jsx)(i.u,{icon:l.y0l})}):null,(0,p.jsx)(i.u,{className:"aca-nav__control__theme",icon:"light"===g?l.OLY:l.c1X,onClick:v}),d?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{onClick:()=>t(!e),className:"aca-nav__control__profile",children:(0,p.jsx)("img",{src:d.photoURL||void 0,alt:"user"})}),(0,p.jsx)("div",{className:"aca-nav__control__signout ".concat(e?"active":null),children:(0,p.jsx)("span",{onClick:()=>{o.c.signOut()},children:"Sign Out"})})]}):(0,p.jsx)("span",{onClick:()=>u(!s),className:"aca-nav__control__login",children:(0,p.jsx)("span",{children:"Login"})})]})]})]}),s&&(0,p.jsx)(C,{close:()=>{u(!1)}})]})}},100:(e,t,s)=>{e.exports=s.p+"static/media/google.39c52b1bcccb20569aa4.png"}}]);
//# sourceMappingURL=132.549e38ce.chunk.js.map