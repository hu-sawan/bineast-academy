"use strict";(self.webpackChunkacademydev=self.webpackChunkacademydev||[]).push([[336],{5200:(e,t,a)=>{a.r(t),a.d(t,{default:()=>w});var s=a(1324);const n=a.p+"static/media/DarkThemeLogoLandscape-nobg.099369ad09b4dd944288.png",o=a.p+"static/media/LightThemeLogoLandscape-nobg.22d1f491836e297a73df.png";var r=a(5329),c=a(9060),l=a(9500),i=a(6584),u=a(12),d=a(9844),h=a(3596),p=a(1384),x=a(2496);const m=function(e){let{className:t}=e;const{setCourseId:a}=(0,d.a)(),s=(0,p.A)(),[n,o]=(0,c.useState)(""),[r,m]=(0,c.useState)([]),[g,j]=(0,c.useState)(!1),[v,C]=(0,c.useState)(!1),{isSmallScreen:f}=(0,h.q)(),_=(0,c.useRef)(null);return(0,c.useEffect)((()=>{n?j(!0):(j(!1),m([]));const e=setTimeout((()=>{n&&(async()=>{try{j(!0);const e=await fetch("http://localhost:5050"+"/api/search/courses/".concat(n),{method:"GET",headers:{"Content-Type":"application/json","x-access-token":s}});if(200!==e.status)return void j(!1);const t=await e.json();m(t)}catch(e){}j(!1)})()}),500);return()=>{clearTimeout(e)}}),[s,n]),(0,c.useEffect)((()=>{const e=e=>{_.current&&!_.current.contains(e.target)&&(m([]),o(""))};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[]),(0,x.jsxs)("div",{className:"search ".concat(t," ").concat(f&&(v?"show":"hide")),ref:_,children:[(0,x.jsx)("input",{onChange:e=>{o(e.target.value),0===n.length&&(m([]),j(!1))},type:"text",placeholder:"Find Course...",name:"navInput",autoComplete:"off",value:n}),(0,x.jsx)("div",{className:"search__icon",onClick:()=>{C(!v)},children:(0,x.jsx)(l.u,{icon:i.w1r})}),(0,x.jsx)("ul",{className:"suggestion-list",children:g?(0,x.jsx)("li",{className:"no-hover",children:"Searching..."}):r.length>0?r.map((e=>(0,x.jsx)(u.cH,{to:"/course/".concat(e.id),onClick:()=>a(e.id),children:(0,x.jsx)("li",{children:e.title})},e.id))):n.length>0&&(0,x.jsx)("li",{className:"no-hover",children:"No results found"})})]})};var g=a(5436);const j=a.p+"static/media/google.39c52b1bcccb20569aa4.png";var v=a(5332),C=a(6020);const f={google:new g.KU("google.com"),facebook:new g.KU("facebook.com"),github:new g.KU("github.com")};const _=e=>{let{close:t,setSignup:a}=e;const[n,o]=(0,c.useState)(""),[l,i]=(0,c.useState)(""),[u,d]=(0,c.useState)(""),[h,p]=(0,c.useState)(!1),[m,j]=(0,c.useState)(5),{authContextLoading:f,authContextError:_,authContextSuccess:b,authContextIsDone:w,setUserFullName:S,updateContext:y}=(0,s.S)();(0,c.useEffect)((()=>{let e;return p(!0),h&&w&&(e=setInterval((()=>{j((e=>e-1))}),1e3)),()=>{clearInterval(e)}}),[w,h]);return(0,x.jsx)("div",{className:"popup",children:(0,x.jsxs)("div",{className:"popup__wrapper",children:[(0,x.jsx)("h1",{children:"Create New Account"}),_&&(0,x.jsx)("p",{className:"error",children:_}),b&&(0,x.jsx)("p",{className:"success",children:b+(w?m:null)}),(0,x.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(async(e,t,a,s)=>{console.log(s),y({authContextLoading:!0}),S(s),console.log("End");try{if(""===t||""===a)throw new Error("Please fill in all fields.");await(0,g.UH)(e,t,a)}catch(n){n instanceof C.kx&&("auth/email-already-in-use"===n.code?y({authContextError:"Email already in use. Please try again."}):y({authContextError:"Unknown error. Please try again."}))}y({authContextLoading:!1})})(r.c,n,l,u)},children:[(0,x.jsx)("input",{type:"text",placeholder:"Full Name",value:u,onChange:e=>d(e.target.value),disabled:f,required:!0}),(0,x.jsx)("input",{type:"email",placeholder:"Email",value:n,onChange:e=>o(e.target.value),disabled:f,required:!0}),(0,x.jsx)("input",{type:"password",placeholder:"Password",value:l,onChange:e=>i(e.target.value),disabled:f,required:!0}),(0,x.jsxs)("div",{className:"popup__wrapper__buttons",children:[(0,x.jsx)("button",{type:"submit",disabled:f,children:f?(0,x.jsx)(v.default,{position:"relative",size:"small",minHeight:!1}):"Sign up"}),(0,x.jsxs)("span",{children:["Have Account?"," ",(0,x.jsx)("span",{onClick:()=>a(!1),children:"Login"})]})]})]}),(0,x.jsx)("button",{onClick:()=>t(),className:"popup__close",disabled:f,children:"Cancel"})]})})},b=function(e){let{close:t}=e;const[a,n]=(0,c.useState)(!1),[o,l]=(0,c.useState)(""),[i,u]=(0,c.useState)(""),[d,h]=(0,c.useState)(5),{authContextLoading:p,authContextError:m,authContextSuccess:b,authContextIsDone:w,updateContext:S}=(0,s.S)(),[y,N]=(0,c.useState)(!1);return(0,c.useEffect)((()=>{const e=setTimeout((()=>S({authContextError:""})),15e3);return()=>clearTimeout(e)}),[m,S]),(0,c.useEffect)((()=>{const e=setTimeout((()=>S({authContextSuccess:""})),15e3);return()=>clearTimeout(e)}),[b,S]),(0,c.useEffect)((()=>{let e;return N(!0),y&&w&&(e=setInterval((()=>{h((e=>e-1))}),1e3)),()=>{clearInterval(e)}}),[w,y]),(0,c.useEffect)((()=>{0===d&&(S({authContextIsDone:!1}),t())}),[d,t,S]),(0,c.useEffect)((()=>()=>{S({authContextSuccess:"",authContextError:"",authContextLoading:!1,authContextIsDone:!1})}),[]),a?(0,x.jsx)(_,{close:t,setSignup:n}):(0,x.jsx)("div",{className:"popup",children:(0,x.jsxs)("div",{className:"popup__wrapper",children:[(0,x.jsx)("h1",{children:"Login"}),m&&(0,x.jsx)("p",{className:"error",children:m}),b&&(0,x.jsx)("p",{className:"success",children:b+(w?d:null)}),(0,x.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(async(e,t,a)=>{S({authContextLoading:!0});try{if(""===t||""===a)throw new Error("Please fill in all fields.");console.log("email: ",t,"password: ",a),await(0,g.kJ)(e,t,a)}catch(s){s instanceof C.kx&&("auth/invalid-credential"===s.code?S({authContextError:"Invalid Email/Password. Please try again."}):"auth/wrong-password"===s.code?S({authContextError:"Wrong password. Please try again."}):S({authContextError:"Uknown error. Please try again."}))}S({authContextLoading:!1})})(r.c,o,i)},children:[(0,x.jsx)("input",{type:"email",placeholder:"Email",value:o,onChange:e=>l(e.target.value),disabled:p,required:!0}),(0,x.jsx)("input",{type:"password",placeholder:"Password",value:i,onChange:e=>u(e.target.value),disabled:p,required:!0}),(0,x.jsxs)("div",{className:"popup__wrapper__buttons",children:[(0,x.jsx)("button",{type:"submit",disabled:p,children:p?(0,x.jsx)(v.default,{position:"relative",size:"small",minHeight:!1}):"Login"}),(0,x.jsxs)("span",{children:["New here?"," ",(0,x.jsx)("span",{onClick:()=>{n(!0)},children:"Sign up"})]})]})]}),(0,x.jsx)("div",{className:"separator"}),(0,x.jsx)("div",{className:"popup__wrapper__providers",children:(0,x.jsxs)("button",{onClick:()=>(async(e,t)=>{S({authContextLoading:!0});const a=f[t];if(!a)throw new Error("Unsupported provider ".concat(t));(0,g.gZ)(e,a).catch((e=>{"auth/popup-closed-by-user"===e.code?S({authContextError:"Popup closed by user. Please try again."}):"auth/user-cancelled"===e.code?S({authContextError:"Operation Canceled. Please try again."}):S({authContextError:"Uknown error. Please try again."}),S({authContextLoading:!1})}))})(r.c,"google"),disabled:p||w,children:[(0,x.jsx)("img",{src:j,alt:"google"})," ",(0,x.jsx)("div",{children:p?(0,x.jsx)(v.default,{position:"relative",size:"small",minHeight:!1}):"Google"})]})}),(0,x.jsx)("button",{onClick:()=>t(),className:"popup__close",disabled:p,children:"Cancel"})]})})};const w=function(){const[e,t]=(0,c.useState)(!1),[a,d]=(0,c.useState)(!1),{user:g}=(0,s.S)(),{theme:j,isSmallScreen:v,toggleTheme:C}=(0,h.q)(),f=(0,p.A)();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("nav",{className:"aca-nav",children:[v&&(0,x.jsx)(m,{className:"mobile"}),(0,x.jsxs)("div",{className:"container",children:[(0,x.jsx)("div",{className:"aca-nav__logo",children:(0,x.jsx)("a",{href:"/bineast-academy",children:(0,x.jsx)("img",{src:"dark"===j?n:o,alt:"bineast"})})}),(0,x.jsx)(m,{}),(0,x.jsxs)("div",{className:"aca-nav__control",children:[g&&("admin"===g.role.toLowerCase()||"instructor"===g.role.toLowerCase())&&(0,x.jsx)(u.Af,{"data-tooltip":"Go to Dashboard",to:"/dashboard",className:"aca-nav__control__dashboard tooltip bottom",children:(0,x.jsx)(l.u,{icon:i.ScH})}),g&&!g.isPremium?(0,x.jsx)("div",{className:"aca-nav__control__subscription tooltip bottom",onClick:async()=>{try{const e=await fetch("".concat("http://localhost:5050","/api/subscribe"),{method:"POST",headers:{"Content-Type":"application/json","x-access-token":f},body:JSON.stringify({userId:null===g||void 0===g?void 0:g.uid})}),t=await e.json();if(200!==e.status)throw Error(t.message);window.location.href=t.url}catch(e){console.log(e)}},"data-tooltip":"Become premium member",children:(0,x.jsx)(l.u,{icon:i.y0l})}):null,(0,x.jsx)(l.u,{className:"aca-nav__control__theme",icon:"light"===j?i.OLY:i.c1X,onClick:C}),g?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{onClick:()=>t(!e),className:"aca-nav__control__profile",children:(0,x.jsx)("img",{src:g.photoURL||void 0,alt:"user"})}),(0,x.jsx)("div",{className:"aca-nav__control__signout ".concat(e?"active":null),children:(0,x.jsx)("span",{onClick:()=>{r.c.signOut()},children:"Sign Out"})})]}):(0,x.jsx)("span",{onClick:()=>d(!a),className:"aca-nav__control__login",children:(0,x.jsx)("span",{children:"Login"})})]})]})]}),a&&(0,x.jsx)(b,{close:()=>{d(!1)}})]})}}}]);
//# sourceMappingURL=336.13e6f06c.chunk.js.map