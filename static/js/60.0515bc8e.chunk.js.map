{"version":3,"file":"static/js/60.0515bc8e.chunk.js","mappings":"sKAKA,MAAMA,GAAaC,EAAAA,EAAAA,OAAK,IAAM,gCACxBC,GAAUD,EAAAA,EAAAA,OAAK,IAAM,yCACrBE,GAAYF,EAAAA,EAAAA,OAAK,IAAM,iEA8F7B,QA5FA,WACI,MAAOG,EAASC,IAAcC,EAAAA,EAAAA,UAAmB,KAC1CC,EAASC,IAAcF,EAAAA,EAAAA,WAAkB,IACzCG,EAAOC,IAAYJ,EAAAA,EAAAA,UAAiB,IACrCK,GAAcC,EAAAA,EAAAA,KAoCpB,OAlCAC,EAAAA,EAAAA,YAAU,KACaC,WACf,IACIJ,EAAS,IACTF,GAAW,GACX,MAAMO,QAAiBC,MACnBC,oCACA,CACIC,OAAQ,MACRC,QAAS,CACL,eAAgB,mBAChB,iBAAkBR,KAIxBS,QAAaL,EAASM,OAE5B,GAAwB,MAApBN,EAASO,OAAgB,MAAM,IAAIC,MAAMH,EAAKI,SAElDnB,EAAWe,GACXZ,GAAW,EACf,CAAE,MAAOiB,GACLjB,GAAW,GACPiB,aAAeF,MACfb,EAASe,EAAID,SAEbd,EAAS,kCAEjB,GAGJgB,EAAY,GACb,CAACf,KAGAgB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,OAAMC,UACjBF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,iBAAgBC,UAC3BF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,YAAWC,UACtBF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,0BAAyBC,SACnCtB,GAAWE,GACRqB,EAAAA,EAAAA,MAAA,OAAKF,UAAU,yBAAwBC,SAAA,CAClCtB,IAAWoB,EAAAA,EAAAA,KAACzB,EAAO,IACnBO,IAASkB,EAAAA,EAAAA,KAACxB,EAAS,CAACqB,QAASf,OAElCL,EAAQ2B,QACRJ,EAAAA,EAAAA,KAAA,OAAKC,UAAU,0BAAyBC,SACnCzB,EAAQ4B,KACL,CAAAC,EAUIC,KAAW,IATX,GACIC,EAAE,MACFC,EAAK,YACLC,EAAW,MACXC,EAAK,OACLC,EAAM,kBACNC,EAAiB,UACjBC,GACKR,EAAA,OAGTN,EAAAA,EAAAA,KAAC3B,EAAU,CACPmC,GAAIA,EACJC,MAAOA,EACPC,YAAaA,EACbG,kBACIA,EAEJF,MAAOA,EACPC,OAAQA,EACRE,UAAWA,GACNP,EACP,OAKdP,EAAAA,EAAAA,KAAA,OAAKC,UAAU,yBAAwBC,UACnCF,EAAAA,EAAAA,KAACxB,EAAS,CAACqB,QAAS,kCAQpD,C","sources":["pages/home/Home.tsx"],"sourcesContent":["import \"./Home.scss\";\r\nimport { lazy, useEffect, useState } from \"react\";\r\nimport { Course } from \"../../types/types\";\r\nimport { useAccessToken } from \"../../contexts/AccessTokenContext\";\r\n\r\nconst CourseCard = lazy(() => import(\"../../components/courseCard/CourseCard\"));\r\nconst Loading = lazy(() => import(\"../../components/loading/Loading\"));\r\nconst ErrorCard = lazy(() => import(\"../../components/error/ErrorCard\"));\r\n\r\nfunction Home() {\r\n    const [courses, setCourses] = useState<Course[]>([]);\r\n    const [loading, setLoading] = useState<boolean>(false);\r\n    const [error, setError] = useState<string>(\"\");\r\n    const accessToken = useAccessToken();\r\n\r\n    useEffect(() => {\r\n        const getCourses = async () => {\r\n            try {\r\n                setError(\"\");\r\n                setLoading(true);\r\n                const response = await fetch(\r\n                    process.env.REACT_APP_API_URL + \"/api/courses\",\r\n                    {\r\n                        method: \"GET\",\r\n                        headers: {\r\n                            \"content-type\": \"application/json\",\r\n                            \"x-access-token\": accessToken,\r\n                        },\r\n                    }\r\n                );\r\n                const data = await response.json();\r\n\r\n                if (response.status !== 200) throw new Error(data.message);\r\n\r\n                setCourses(data);\r\n                setLoading(false);\r\n            } catch (err) {\r\n                setLoading(false);\r\n                if (err instanceof Error) {\r\n                    setError(err.message);\r\n                } else {\r\n                    setError(\"Error fetching data from server\");\r\n                }\r\n            }\r\n        };\r\n\r\n        getCourses();\r\n    }, [accessToken]);\r\n\r\n    return (\r\n        <div className=\"home\">\r\n            <div className=\"home__featured\">\r\n                <div className=\"container\">\r\n                    <div className=\"home__featured__wrapper\">\r\n                        {loading || error ? (\r\n                            <div className=\"home__featured__status\">\r\n                                {loading && <Loading />}\r\n                                {error && <ErrorCard message={error} />}\r\n                            </div>\r\n                        ) : courses.length ? (\r\n                            <div className=\"home__featured__content\">\r\n                                {courses.map(\r\n                                    (\r\n                                        {\r\n                                            id,\r\n                                            title,\r\n                                            description,\r\n                                            level,\r\n                                            imgUrl,\r\n                                            durationInMinutes,\r\n                                            isPremium,\r\n                                        }: Course,\r\n                                        idx: number\r\n                                    ) => (\r\n                                        <CourseCard\r\n                                            id={id}\r\n                                            title={title}\r\n                                            description={description}\r\n                                            durationInMinutes={\r\n                                                durationInMinutes\r\n                                            }\r\n                                            level={level}\r\n                                            imgUrl={imgUrl}\r\n                                            isPremium={isPremium}\r\n                                            key={idx}\r\n                                        />\r\n                                    )\r\n                                )}\r\n                            </div>\r\n                        ) : (\r\n                            <div className=\"home__featured__status\">\r\n                                <ErrorCard message={\"No courses available\"} />\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Home;\r\n"],"names":["CourseCard","lazy","Loading","ErrorCard","courses","setCourses","useState","loading","setLoading","error","setError","accessToken","useAccessToken","useEffect","async","response","fetch","process","method","headers","data","json","status","Error","message","err","getCourses","_jsx","className","children","_jsxs","length","map","_ref","idx","id","title","description","level","imgUrl","durationInMinutes","isPremium"],"sourceRoot":""}