"use strict";(self.webpackChunkacademydev=self.webpackChunkacademydev||[]).push([[636,528,600],{4600:(e,s,t)=>{t.r(s),t.d(s,{default:()=>c});var a=t(9060),i=t(3596),o=t(2496);const c=function(e){let{setIsConfirm:s,setIsDelete:t}=e;const c=(0,a.useRef)(null),{theme:r}=(0,i.q)();return(0,a.useEffect)((()=>{function e(e){c.current&&!c.current.contains(e.target)&&s(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[c,s]),(0,o.jsx)("div",{className:"confirm-card ".concat(r),children:(0,o.jsxs)("div",{ref:c,className:"confirm-card__wrapper",children:[(0,o.jsx)("h4",{children:"Are you sure?"}),(0,o.jsxs)("div",{className:"confirm-card__wrapper__control",children:[(0,o.jsx)("span",{className:"is-easy hover",onClick:()=>{t(!0),s(!1)},children:"Confirm"}),(0,o.jsx)("span",{className:"is-hard hover",onClick:()=>s(!1),children:"Cancel"})]})]})})}},6992:(e,s,t)=>{t.d(s,{c:()=>i});var a=t(2496);const i=e=>{let{title:s,subtitle:t}=e;return(0,a.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,a.jsx)("h2",{style:{color:"var(--primary-text-color)",fontSize:"32px",fontWeight:"bold",marginBottom:"5px"},children:s}),(0,a.jsx)("h5",{style:{color:"var(--light-green-text-color)",fontWeight:"400",fontSize:"16px"},children:t})]})}},3528:(e,s,t)=>{t.r(s),t.d(s,{default:()=>c});var a=t(9500),i=t(6584),o=t(2496);const c=function(e){let{message:s,position:t="absolute",fill:c=!1,onTop:r=!1}=e;return(0,o.jsx)("div",{className:"error-card ".concat(c&&"fill"," ").concat(r&&"on-top"),children:(0,o.jsxs)("div",{className:"error-card__wrapper",children:[(0,o.jsx)("div",{className:"icon",children:(0,o.jsx)(a.u,{icon:i.gxQ})}),s]})})}},5636:(e,s,t)=>{t.r(s),t.d(s,{default:()=>_});var a=t(1560),i=t(12),o=t(6992),c=t(9500),r=t(6584),n=t(1324),d=t(9060),l=t(1384),h=t(5332),u=t(3528),v=t(3248),m=t(3596),x=t(2496);const p=function(e){let{video:s,setIsEditing:t,setRefresh:a}=e;const{theme:i}=(0,m.q)();return(0,x.jsx)("div",{className:"edit-video ".concat(i),children:(0,x.jsx)("div",{className:"edit-video__wrapper",children:(0,x.jsx)("span",{"data-tooltip":"Cancel",className:"tooltip bottom cancel",onClick:()=>t(!1),children:(0,x.jsx)(c.u,{style:{display:"block"},icon:r.gxQ})})})})};var j=t(4600);const f=function(e){let{video:s,videos:t,setRefresh:a}=e;const{title:i,description:o,durationInMinutes:n,orderNb:l}=s,[h,u]=(0,d.useState)(!1),[m,f]=(0,d.useState)(!1),[_,N]=(0,d.useState)(!1);return(0,x.jsxs)("div",{className:"video-display",children:[_&&(0,x.jsx)(p,{video:s,setIsEditing:N,setRefresh:a}),h&&(0,x.jsx)(j.default,{setIsConfirm:u,setIsDelete:f,setRefresh:a}),(0,x.jsx)("div",{className:"video-display__img",children:(0,x.jsx)(c.u,{icon:v.WU6})}),(0,x.jsxs)("div",{className:"video-display__content",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("h1",{children:i}),(0,x.jsx)("p",{children:o})]}),(0,x.jsx)("div",{className:"video-display__content__details",children:(0,x.jsxs)("div",{className:"video-display__content__details__duration",children:["Duration: ",n," minutes"]})})]}),(0,x.jsxs)("div",{className:"video-display__control",children:[(0,x.jsx)("span",{className:"edit",onClick:()=>N(!0),children:(0,x.jsx)(c.u,{icon:r.cpv})}),(0,x.jsx)("span",{className:"delete",onClick:()=>u(!0),children:(0,x.jsx)(c.u,{icon:r._8k})})]})]})};const _=function(){const[e,s]=(0,d.useState)(!1),[t,v]=(0,d.useState)(""),[m,p]=(0,d.useState)([]),[j,_]=(0,d.useState)(!1),[N,g]=(0,d.useState)(""),{courseId:y}=(0,a.W4)(),{user:b}=(0,n.S)(),k=(0,l.A)(),w=(0,a.IT)();return(0,d.useEffect)((()=>{let e=w.pathname.split("/");for(;""===e[e.length-1];)e.pop();e.pop(),g(e.join("/"))}),[w.pathname]),(0,d.useEffect)((()=>{y?(async()=>{try{const e=await fetch("http://localhost:5050/api/videos/".concat(y,"/").concat(b&&"instructor"===b.role.toLowerCase()?b.id:""),{method:"GET",headers:{"content-type":"application/json","x-access-token":k}}),t=await e.json();if(200!==e.status)throw Error(t.message);p(t),s(!1),0===t.length&&v("No videos available")}catch(e){s(!1),e instanceof Error?v(e.message):v("Error fetching data from server")}})():p([])}),[y,b,j,k]),(0,x.jsxs)("div",{className:"dashboard-course",children:[(0,x.jsxs)("div",{className:"dashboard-course__header",children:[(0,x.jsx)(i.cH,{to:N,children:(0,x.jsx)("div",{"data-tooltip":"Back",className:"dashboard-course__header__nav tooltip bottom",children:(0,x.jsx)(c.u,{icon:r.kZA})})}),(0,x.jsxs)("div",{className:"dashboard-course__header__details",children:[(0,x.jsx)(o.c,{title:"Videos",subtitle:"In this page you can view and add videos to the selected course"}),(0,x.jsxs)("div",{className:"dashboard-course__add",children:[(0,x.jsx)(c.u,{icon:r.qsE}),"Add Video"]})]})]}),(0,x.jsx)("div",{className:"dashboard-course__videos",children:e||t?(0,x.jsx)("div",{className:"dashboard-course__videos__status",children:e?(0,x.jsx)(h.default,{}):(0,x.jsx)(u.default,{message:t})}):m.map((e=>(0,x.jsx)(f,{video:e,videos:m,setRefresh:_})))})]})}}}]);
//# sourceMappingURL=636.f59430ec.chunk.js.map