"use strict";(self.webpackChunkacademydev=self.webpackChunkacademydev||[]).push([[952],{6992:(e,t,s)=>{s.d(t,{c:()=>r});var a=s(2496);const r=e=>{let{title:t,subtitle:s}=e;return(0,a.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,a.jsx)("h2",{style:{color:"var(--primary-text-color)",fontSize:"32px",fontWeight:"bold",marginBottom:"5px"},children:t}),(0,a.jsx)("h5",{style:{color:"var(--light-green-text-color)",fontWeight:"400",fontSize:"16px"},children:s})]})}},1952:(e,t,s)=>{s.r(t),s.d(t,{default:()=>h});var a=s(9060),r=s(6992),l=s(4810),i=s(9500),o=s(6584),n=s(1384),c=s(2496);const d=e=>{let{userId:t,role:s}=e;const[r,l]=(0,a.useState)(s.toLocaleUpperCase()),[d,h]=(0,a.useState)(s.toUpperCase()),[u,p]=(0,a.useState)(!1),x=(0,n.A)();s=s.toUpperCase();const m={ADMIN:(0,c.jsx)(i.u,{style:{fontSize:"11px"},icon:o._2h}),INSTRUCTOR:(0,c.jsx)(i.u,{style:{fontSize:"11px"},icon:o.OYs}),USER:(0,c.jsx)(i.u,{style:{fontSize:"11px"},icon:o.OOk})},f=()=>{(async()=>{try{(await fetch("http://localhost:5050/api/users/"+t,{method:"PATCH",headers:{"content-type":"application/json","x-access-token":x},body:JSON.stringify({role:d})})).ok?(l(d),p(!1)):h(r)}catch(e){}})()},y=()=>{h(r),p(!1)};return u?(0,c.jsxs)("div",{className:"users-table__confirm__role",children:[(0,c.jsx)("span",{className:"is-easy hover",onClick:f,children:"Update"}),(0,c.jsx)("span",{className:"is-hard hover",onClick:y,children:"Cancel"})]}):(0,c.jsxs)("div",{style:{width:"60%",margin:"0 auto",display:"flex",justifyContent:"center",alignItems:"center"},children:[(0,c.jsx)("span",{className:"icon",children:m[d]}),(0,c.jsx)("select",{className:"users-table__role",value:d,onChange:e=>(e=>{h(e),p(!0)})(e.target.value),children:Object.keys(m).map((e=>(0,c.jsx)("option",{value:e,children:e},e)))})]})},h=()=>{const[e,t]=(0,a.useState)([]),[s,h]=(0,a.useState)(!1),u=(0,n.A)();(0,a.useEffect)((()=>{(async()=>{try{const e=await fetch("http://localhost:5050/api/users",{method:"GET",headers:{"content-type":"application/json","x-access-token":u}}),s=await e.json();t(s)}catch(e){}})()}),[s,u]);const p=[{field:"id",headerName:"ID"},{field:"email",headerName:"Email",flex:1},{field:"role",headerName:"Role",flex:1,headerAlign:"center",align:"center",renderCell:e=>{let{row:{role:t,id:s}}=e;return(0,c.jsx)(d,{userId:s,role:t})}},{field:"isPremium",headerName:"Premium",flex:1,renderCell:e=>{let{row:{isPremium:t}}=e;return(0,c.jsx)("div",{children:(0,c.jsx)(i.u,{style:{color:t?"#3fb24b":"grey"},icon:o.MN5})})}},{field:"deleteUser",headerName:"Delete",flex:1,renderCell:e=>{let{row:{id:t}}=e;return(0,c.jsx)("div",{children:(0,c.jsx)(i.u,{onClick:()=>(async e=>{try{(await fetch("http://localhost:5050/api/users/"+e,{method:"DELETE",headers:{"content-type":"application/json","x-access-token":u}})).ok&&h((e=>!e))}catch(t){}})(t),className:"delete-icon",icon:o._8k})})}}];return(0,c.jsxs)("div",{className:"dashboard-users",children:[(0,c.jsx)(r.c,{title:"Users",subtitle:"In this page you can manage users"}),(0,c.jsx)("div",{className:"users-table",children:(0,c.jsx)(l.o,{sx:{"&.MuiDataGrid-root .MuiDataGrid-cell:focus-within":{outline:"none !important"},"& .MuiDataGrid-filler":{height:"1px !important"},"& .MuiDataGrid-overlayWrapper":{height:"55px !important"}},rows:e,columns:p,slots:{noRowsOverlay:()=>(0,c.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",color:"var(--primary-text-color)"},children:"No users found"})}})})]})}}}]);
//# sourceMappingURL=952.76b0c3bc.chunk.js.map