"use strict";(self.webpackChunkacademydev=self.webpackChunkacademydev||[]).push([[336],{5200:(e,t,s)=>{s.r(t),s.d(t,{default:()=>_});var a=s(1324);const o=s.p+"static/media/DarkThemeLogoLandscape-nobg.099369ad09b4dd944288.png",n=s.p+"static/media/LightThemeLogoLandscape-nobg.22d1f491836e297a73df.png";var c=s(844),r=s(9060),i=s(9500),l=s(6584),d=s(12),u=s(9844),h=s(3596),m=s(1384),p=s(2496);const x=function(e){let{className:t}=e;const{setCourseId:s}=(0,u.a)(),a=(0,m.A)(),[o,n]=(0,r.useState)(""),[c,x]=(0,r.useState)([]),[g,j]=(0,r.useState)(!1),[v,f]=(0,r.useState)(!1),{isSmallScreen:C}=(0,h.q)(),_=(0,r.useRef)(null);return(0,r.useEffect)((()=>{o?j(!0):(j(!1),x([]));const e=setTimeout((()=>{o&&(async()=>{try{j(!0);const e=await fetch("http://localhost:5050"+"/api/search/courses/".concat(o),{method:"GET",headers:{"Content-Type":"application/json","x-access-token":a}});if(200!==e.status)return void j(!1);const t=await e.json();x(t)}catch(e){}j(!1)})()}),500);return()=>{clearTimeout(e)}}),[a,o]),(0,r.useEffect)((()=>{const e=e=>{_.current&&!_.current.contains(e.target)&&(x([]),n(""))};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[]),(0,p.jsxs)("div",{className:"search ".concat(t," ").concat(C&&(v?"show":"hide")),ref:_,children:[(0,p.jsx)("input",{onChange:e=>{n(e.target.value),0===o.length&&(x([]),j(!1))},type:"text",placeholder:"Find Course...",name:"navInput",autoComplete:"off",value:o}),(0,p.jsx)("div",{className:"search__icon",onClick:()=>{f(!v)},children:(0,p.jsx)(i.u,{icon:l.w1r})}),(0,p.jsx)("ul",{className:"suggestion-list",children:g?(0,p.jsx)("li",{className:"no-hover",children:"Searching..."}):c.length>0?c.map((e=>(0,p.jsx)(d.cH,{to:"/course/".concat(e.id),onClick:()=>s(e.id),children:(0,p.jsx)("li",{children:e.title})},e.id))):o.length>0&&(0,p.jsx)("li",{className:"no-hover",children:"No results found"})})]})};var g=s(5436);const j=s.p+"static/media/google.39c52b1bcccb20569aa4.png";var v=s(5332);const f={google:new g.KU("google.com"),facebook:new g.KU("facebook.com"),github:new g.KU("github.com")};const C=function(e){let{close:t}=e;const[s,o]=(0,r.useState)(5),{authContextLoading:n,authContextError:i,authContextSuccess:l,authContextIsDone:d,updateContext:u}=(0,a.S)(),[h,m]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{const e=setTimeout((()=>u({authContextError:""})),15e3);return()=>clearTimeout(e)}),[i,u]),(0,r.useEffect)((()=>{const e=setTimeout((()=>u({authContextSuccess:""})),15e3);return()=>clearTimeout(e)}),[l,u]),(0,r.useEffect)((()=>{let e;return m(!0),h&&d&&(e=setInterval((()=>{o((e=>e-1))}),1e3)),()=>{clearInterval(e)}}),[d,h]),(0,r.useEffect)((()=>{0===s&&(u({authContextIsDone:!1}),t())}),[s,t,u]),(0,r.useEffect)((()=>()=>{u({authContextSuccess:"",authContextError:"",authContextLoading:!1,authContextIsDone:!1})}),[]),(0,p.jsx)("div",{className:"popup",children:(0,p.jsxs)("div",{className:"popup__wrapper",children:[(0,p.jsx)("h1",{children:"Login"}),i&&(0,p.jsx)("p",{className:"error",children:i}),l&&(0,p.jsx)("p",{className:"success",children:l+(d?s:null)}),(0,p.jsxs)("form",{children:[(0,p.jsx)("input",{type:"email",placeholder:"Email",disabled:n}),(0,p.jsx)("input",{type:"password",placeholder:"Password",disabled:n}),(0,p.jsx)("button",{type:"submit",disabled:n,children:n?(0,p.jsx)(v.default,{position:"relative",size:"small",minHeight:!1}):"Login"})]}),(0,p.jsx)("div",{className:"separator"}),(0,p.jsx)("div",{className:"popup__wrapper__providers",children:(0,p.jsxs)("button",{onClick:()=>(async(e,t)=>{u({authContextLoading:!0});const s=f[t];if(!s)throw new Error("Unsupported provider ".concat(t));(0,g.gZ)(e,s).catch((e=>{"auth/popup-closed-by-user"===e.code?u({authContextError:"Popup closed by user. Please try again."}):"auth/user-cancelled"===e.code?u({authContextError:"Operation Canceled. Please try again."}):u({authContextError:"Uknown error. Please try again."}),u({authContextLoading:!1})}))})(c.c,"google"),disabled:n||d,children:[(0,p.jsx)("img",{src:j,alt:"google"})," ",(0,p.jsx)("div",{children:n?(0,p.jsx)(v.default,{position:"relative",size:"small",minHeight:!1}):"Google"})]})}),(0,p.jsx)("button",{onClick:()=>t(),className:"popup__close",disabled:n,children:"Cancel"})]})})};const _=function(){const[e,t]=(0,r.useState)(!1),[s,u]=(0,r.useState)(!1),{user:g}=(0,a.S)(),{theme:j,isSmallScreen:v,toggleTheme:f}=(0,h.q)(),_=(0,m.A)();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("nav",{className:"aca-nav",children:[v&&(0,p.jsx)(x,{className:"mobile"}),(0,p.jsxs)("div",{className:"container",children:[(0,p.jsx)("div",{className:"aca-nav__logo",children:(0,p.jsx)("a",{href:"/bineast-academy",children:(0,p.jsx)("img",{src:"dark"===j?o:n,alt:"bineast"})})}),(0,p.jsx)(x,{}),(0,p.jsxs)("div",{className:"aca-nav__control",children:[g&&("admin"===g.role.toLowerCase()||"instructor"===g.role.toLowerCase())&&(0,p.jsx)(d.Af,{"data-tooltip":"Go to Dashboard",to:"/dashboard",className:"aca-nav__control__dashboard tooltip bottom",children:(0,p.jsx)(i.u,{icon:l.ScH})}),g&&!g.isPremium?(0,p.jsx)("div",{className:"aca-nav__control__subscription tooltip bottom",onClick:async()=>{try{const e=await fetch("".concat("http://localhost:5050","/api/subscribe"),{method:"POST",headers:{"Content-Type":"application/json","x-access-token":_},body:JSON.stringify({userId:null===g||void 0===g?void 0:g.uid})}),t=await e.json();if(200!==e.status)throw Error(t.message);window.location.href=t.url}catch(e){console.log(e)}},"data-tooltip":"Become premium member",children:(0,p.jsx)(i.u,{icon:l.y0l})}):null,(0,p.jsx)(i.u,{className:"aca-nav__control__theme",icon:"light"===j?l.OLY:l.c1X,onClick:f}),g?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{onClick:()=>t(!e),className:"aca-nav__control__profile",children:(0,p.jsx)("img",{src:g.photoURL||void 0,alt:"user"})}),(0,p.jsx)("div",{className:"aca-nav__control__signout ".concat(e?"active":null),children:(0,p.jsx)("span",{onClick:()=>{c.c.signOut()},children:"Sign Out"})})]}):(0,p.jsx)("span",{onClick:()=>u(!s),className:"aca-nav__control__login",children:(0,p.jsx)("span",{children:"Login"})})]})]})]}),s&&(0,p.jsx)(C,{close:()=>{u(!1)}})]})}}}]);
//# sourceMappingURL=336.081c644c.chunk.js.map