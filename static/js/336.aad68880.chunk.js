"use strict";(self.webpackChunkacademydev=self.webpackChunkacademydev||[]).push([[336],{5200:(e,t,a)=>{a.r(t),a.d(t,{default:()=>_});var s=a(1324);const o=a.p+"static/media/DarkThemeLogoLandscape-nobg.099369ad09b4dd944288.png",n=a.p+"static/media/LightThemeLogoLandscape-nobg.22d1f491836e297a73df.png";var c=a(844),r=a(9060),i=a(9500),l=a(6584),u=a(12),d=a(9844),h=a(3596),m=a(1384),p=a(2496);const x=function(e){let{className:t}=e;const{setCourseId:a}=(0,d.a)(),s=(0,m.A)(),[o,n]=(0,r.useState)(""),[c,x]=(0,r.useState)([]),[g,j]=(0,r.useState)(!1),[v,f]=(0,r.useState)(!1),{isSmallScreen:C}=(0,h.q)(),_=(0,r.useRef)(null);return(0,r.useEffect)((()=>{o?j(!0):(j(!1),x([]));const e=setTimeout((()=>{o&&(async()=>{try{j(!0);const e=await fetch("http://localhost:5050"+"/api/search/courses/".concat(o),{method:"GET",headers:{"Content-Type":"application/json","x-access-token":s}});if(200!==e.status)return void j(!1);const t=await e.json();x(t)}catch(e){}j(!1)})()}),500);return()=>{clearTimeout(e)}}),[s,o]),(0,r.useEffect)((()=>{const e=e=>{_.current&&!_.current.contains(e.target)&&(x([]),n(""))};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[]),(0,p.jsxs)("div",{className:"search ".concat(t," ").concat(C&&(v?"show":"hide")),ref:_,children:[(0,p.jsx)("input",{onChange:e=>{n(e.target.value),0===o.length&&(x([]),j(!1))},type:"text",placeholder:"Find Course...",name:"navInput",autoComplete:"off",value:o}),(0,p.jsx)("div",{className:"search__icon",onClick:()=>{f(!v)},children:(0,p.jsx)(i.u,{icon:l.w1r})}),(0,p.jsx)("ul",{className:"suggestion-list",children:g?(0,p.jsx)("li",{className:"no-hover",children:"Searching..."}):c.length>0?c.map((e=>(0,p.jsx)(u.cH,{to:"/course/".concat(e.id),onClick:()=>a(e.id),children:(0,p.jsx)("li",{children:e.title})},e.id))):o.length>0&&(0,p.jsx)("li",{className:"no-hover",children:"No results found"})})]})};var g=a(5436);const j=a.p+"static/media/google.39c52b1bcccb20569aa4.png";var v=a(5332);const f={google:new g.KU("google.com"),facebook:new g.KU("facebook.com"),github:new g.KU("github.com")};const C=function(e){let{close:t}=e;const[a,o]=(0,r.useState)(5),{authContextLoading:n,authContextError:i,authContextSuccess:l,authContextIsDone:u,updateContext:d}=(0,s.S)(),[h,m]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{const e=setTimeout((()=>d({authContextError:""})),15e3);return()=>clearTimeout(e)}),[i,d]),(0,r.useEffect)((()=>{const e=setTimeout((()=>d({authContextSuccess:""})),15e3);return()=>clearTimeout(e)}),[l,d]),(0,r.useEffect)((()=>{let e;return m(!0),h&&u&&(e=setInterval((()=>{o((e=>e-1))}),1e3)),()=>{clearInterval(e)}}),[u,h]),(0,r.useEffect)((()=>{0===a&&(d({authContextIsDone:!1}),t())}),[a,t,d]),(0,r.useEffect)((()=>()=>{d({authContextSuccess:"",authContextError:"",authContextLoading:!1,authContextIsDone:!1})}),[]),(0,p.jsx)("div",{className:"popup",children:(0,p.jsxs)("div",{className:"popup__wrapper",children:[(0,p.jsx)("h1",{children:"Login"}),i&&(0,p.jsx)("p",{className:"error",children:i}),l&&(0,p.jsx)("p",{className:"success",children:l+(u?a:null)}),(0,p.jsx)("div",{className:"popup__wrapper__providers",children:(0,p.jsxs)("button",{onClick:()=>(async(e,t)=>{d({authContextLoading:!0});const a=f[t];if(!a)throw new Error("Unsupported provider ".concat(t));(0,g.gZ)(e,a).catch((e=>{"auth/popup-closed-by-user"===e.code?d({authContextError:"Popup closed by user. Please try again."}):"auth/user-cancelled"===e.code?d({authContextError:"Operation Canceled. Please try again."}):d({authContextError:"Uknown error. Please try again."}),d({authContextLoading:!1})}))})(c.c,"google"),disabled:n||u,children:[(0,p.jsx)("img",{src:j,alt:"google"})," ",(0,p.jsx)("div",{children:n?(0,p.jsx)(v.default,{position:"relative",size:"small",minHeight:!1}):"Google"})]})}),(0,p.jsx)("button",{onClick:()=>t(),className:"popup__close",disabled:n,children:"Cancel"})]})})};const _=function(){const[e,t]=(0,r.useState)(!1),[a,d]=(0,r.useState)(!1),{user:g}=(0,s.S)(),{theme:j,isSmallScreen:v,toggleTheme:f}=(0,h.q)(),_=(0,m.A)();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("nav",{className:"aca-nav",children:[v&&(0,p.jsx)(x,{className:"mobile"}),(0,p.jsxs)("div",{className:"container",children:[(0,p.jsx)("div",{className:"aca-nav__logo",children:(0,p.jsx)("a",{href:"/bineast-academy",children:(0,p.jsx)("img",{src:"dark"===j?o:n,alt:"bineast"})})}),(0,p.jsx)(x,{}),(0,p.jsxs)("div",{className:"aca-nav__control",children:[g&&("admin"===g.role.toLowerCase()||"instructor"===g.role.toLowerCase())&&(0,p.jsx)(u.Af,{"data-tooltip":"Go to Dashboard",to:"/dashboard",className:"aca-nav__control__dashboard tooltip bottom",children:(0,p.jsx)(i.u,{icon:l.ScH})}),g&&!g.isPremium?(0,p.jsx)("div",{className:"aca-nav__control__subscription tooltip bottom",onClick:async()=>{try{const e=await fetch("".concat("http://localhost:5050","/api/subscribe"),{method:"POST",headers:{"Content-Type":"application/json","x-access-token":_},body:JSON.stringify({userId:null===g||void 0===g?void 0:g.uid})}),t=await e.json();if(200!==e.status)throw Error(t.message);window.location.href=t.url}catch(e){console.log(e)}},"data-tooltip":"Become premium member",children:(0,p.jsx)(i.u,{icon:l.y0l})}):null,(0,p.jsx)(i.u,{className:"aca-nav__control__theme",icon:"light"===j?l.OLY:l.c1X,onClick:f}),g?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{onClick:()=>t(!e),className:"aca-nav__control__profile",children:(0,p.jsx)("img",{src:g.photoURL||void 0,alt:"user"})}),(0,p.jsx)("div",{className:"aca-nav__control__signout ".concat(e?"active":null),children:(0,p.jsx)("span",{onClick:()=>{c.c.signOut()},children:"Sign Out"})})]}):(0,p.jsx)("span",{onClick:()=>d(!a),className:"aca-nav__control__login",children:(0,p.jsx)("span",{children:"Login"})})]})]})]}),a&&(0,p.jsx)(C,{close:()=>{d(!1)}})]})}}}]);
//# sourceMappingURL=336.aad68880.chunk.js.map